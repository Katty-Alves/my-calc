<!--% não pega e ajeitar corpo-->

<!DOCTYPE html>
<html>
  <head>
    <title>Calculadora</title>
    <meta charset="utf-8" />

    <style>
     table{
    text-align: center;
    margin: auto;
    padding: 25px;
}
.botao{
    background-color: rgb(128, 0, 49);
    font-size: 14px;
margin: auto;
width: 50px;
height: 25px;
}
body {
background-color:rgb(40, 48, 70)
}
.calculator {
            position: absolute;
            background-color:  #CCCCCC;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
border-radius: 15px;
padding: 20px;
        }
#display {
width: 300px;
height: 40px;
text-align: right;
background-color: #e7e6e6;
border: 3px solid #e7e6e6;
font-size: 18px;
left: 2px;
top: 2px;
color: black;
}
.btnNum{
color: black;
background-color: #e7e6e6;
font-size: 14px;
margin: auto;
width: 50px;
height: 25px;
}

#outHistorico{
          
          background-color: #ececec;
          width: 239px;
          height: 300px;
          border-radius: 7px;
          position: absolute;
          left: 65%;
          top: 1px;
        }
        
        .historico{
            position: absolute;
            background-color:  #CCCCCC;
            
top: 50%;
left: 50%;
transform: translate(50%);
border-radius: 15px;
padding: 20px;
        }

</style>
  </head>
  <body>
<table class="calculator" cellspacing="0" cellpadding="3">
<tr>               
     <td left: 300px><p class="historico" id="outHistorico" disabled>HISTÓRICO: <br></p></td>
</tr>
            <tr>  
                <td colspan="6"><p class="in_text" id="display" value="0" disabled>0</p></td>
                        </tr>

            <tr>
                <td><input type="button" class="btnNum" value="C" onclick="limparDisplay()" /></td>
                <td><input type="button" class="btnNum" value="<--" onclick="desfazerDisplay()" /></td>
                <td><input type="button" class="btnNum" value="√" onclick="calcularRaiz()" /></td>
                <td><input type="button" class="btnNum" value="x²" onclick="doiselevado('x&sup2')" /></td>
                <td rowspan="5"><input type="button" class="botao" style= "height: 180px" value="=" onclick="calcularOperacao()" /></td>
            </tr>

            <tr>
                <td><input type="button" class="btnNum" value="7" onclick="atualizarDisplay('7')" /></td>
                <td><input type="button" class="btnNum" value="8" onclick="atualizarDisplay('8')" /></td>
                <td><input type="button" class="btnNum" value="9" onclick="atualizarDisplay('9')" /></td>
                <td><input type="button" class="btnNum" value="/" onclick="atualizarDisplay('/')" /></td>
            </tr>

            <tr>
                <td><input type="button" class="btnNum" value="4" onclick="atualizarDisplay('4')" /></td>
                <td><input type="button" class="btnNum" value="5" onclick="atualizarDisplay('5')" /></td>
                <td><input type="button" class="btnNum" value="6" onclick="atualizarDisplay('6')" /></td>
                <td><input type="button" class="btnNum" value="*" onclick="atualizarDisplay('*')" /></td>
            </tr>
            
            <tr>
                <td><input type="button" class="btnNum" value="1" onclick="atualizarDisplay('1')" /></td>
                <td><input type="button" class="btnNum" value="2" onclick="atualizarDisplay('2')" /></td>
                <td><input type="button" class="btnNum" value="3" onclick="atualizarDisplay('3')" /></td>
                <td><input type="button" class="btnNum" value="-" onclick="atualizarDisplay('-')" /></td>
            </tr>

            <tr>
                <td><input type="button" class="btnNum" value="&#177" onclick="changeSign(this.form.display)"></td>
                <td><input type="button" class="btnNum" value="0" onclick="atualizarDisplay('0')" /></td>
                <td><input type="button" class="btnNum" value="." onclick="atualizarDisplay('.')" /></td>
                <td><input type="button" class="btnNum" value="+" onclick="atualizarDisplay('+')" /></td>
            </tr>

            <tr>
                <td><input type="button" class="btnNum" value="🗑️" onclick="limparHistorico()" /></td>
                <td><input type="button" class="btnNum" value="(" onclick="atualizarDisplay('(')" /></td>
                <td><input type="button" class="btnNum" value=")" onclick="atualizarDisplay(')')" /></td>
                <td><input type="button" class="btnNum" value="%" onclick="atualizarDisplay('/100')"></td>
            </tr>

            

        </table>
    </div>
      <script>
        function atualizarDisplay(num){
            var display = document.getElementById('display').innerHTML;
            if(display === '0') document.getElementById('display').innerHTML = num;
            else document.getElementById('display').innerHTML += num
        }
        function desfazerDisplay() {
            var display = document.getElementById('display').innerHTML;
            document.getElementById('display').innerHTML = display.substring(0, display.length - 1);
        }
        function limparDisplay(){
            document.getElementById('display').innerHTML = "0";
        }
        function limparHistorico(){
            document.getElementById('outHistorico').innerHTML = "HISTÓRICO: <br>";
        }
        var historico = ''
        function calcularOperacao(){
            var display = document.getElementById('display').innerHTML;
            var historico = document.getElementById('display').innerHTML;
            if (display) {
                document.getElementById('display').innerHTML = eval(display);
            }
            document.getElementById('outHistorico').innerHTML += historico + '=' + eval(display) + "<br>";
        }
        function calcularRaiz(){
            var display = document.getElementById('display').innerHTML;
            var historico = document.getElementById('display').innerHTML;
            if (display) {
                document.getElementById('display').innerHTML = Math.sqrt(eval(display));
                
            }
            document.getElementById('outHistorico').innerHTML += '√(' + historico + ') =' + Math.sqrt(eval(display)) + "<br>";
        }

        function doiselevado(){
            var display = document.getElementById('display').innerHTML;
            var historico = document.getElementById('display').innerHTML;
            if (display) {
                document.getElementById('display').innerHTML = eval(display) * eval(display);
                
            }
            document.getElementById('outHistorico').innerHTML +=  eval(display) * eval(display) + "<br>";
        }

        

    </script>

  </body>
</html>